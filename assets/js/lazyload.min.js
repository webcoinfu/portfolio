!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e,a=arguments[n];for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function r(t){return n({},j,t)}function i(t,n){var e,a="LazyLoad::Initialized",n=new t(n);try{e=new CustomEvent(a,{detail:{instance:n}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:n})}window.dispatchEvent(e)}function c(t){return Y(t,X)}function o(t){return Z(t,null)}function s(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))}function u(t,n){V?t.classList.add(n):t.className+=(t.className?" ":"")+n}function d(t){return t.llTempImage}function l(t,n){!n||(n=n._observer)&&n.unobserve(t)}function f(t,n){t&&(t.loadingCount+=n)}function _(t,n){t&&(t.toLoadCount=n)}function g(t,n){(t=t.parentNode)&&"PICTURE"===t.tagName&&ot(t).forEach(n)}function e(t,n){ot(t).forEach(n)}function a(t){return delete t[q]}function v(n,t){var e;st(n)||(e={},t.forEach(function(t){e[t]=n.getAttribute(t)}),n[q]=e)}function b(n,t){var e;st(n)&&(e=ut(n),t.forEach(function(t){ft(n,t,e[t])}))}function p(t,n,e){u(t,n.class_loading),Z(t,H),e&&(f(e,1),s(n.callback_loading,t,e))}function h(t,n){gt(t,U,Y(t,n.data_sizes)),gt(t,S,Y(t,n.data_srcset)),gt(t,P,Y(t,n.data_src))}function m(t,n){!n||0<n.loadingCount||0<n.toLoadCount||s(t.callback_finish,n)}function E(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function I(t){return!!t.llEvLisnrs}function y(t){if(I(t)){var n,e,a=t.llEvLisnrs;for(n in a){var i=a[n];e=n,t.removeEventListener(e,i)}delete t.llEvLisnrs}}function A(t,n,e){var a;delete t.llTempImage,f(e,-1),(a=e)&&--a.toLoadCount,at(t,n.class_loading),n.unobserve_completed&&l(t,e)}function k(t,n,e){var a,i,o;-1<Et.indexOf(t.tagName)?(It(a=t,i=n,o=e),mt(a,i,o)):(n=n,e=e,it(t=t),It(t,n,e),dt(t),vt(t,n,e),bt(t,n,e))}function L(t){t.removeAttribute(P),t.removeAttribute(S),t.removeAttribute(U)}function w(t){g(t,function(t){b(t,lt)}),b(t,lt)}function x(t,n){var e;(yt[(e=t).tagName]||_t)(e),e=n,tt(n=t)||nt(n)||(at(n,e.class_entered),at(n,e.class_exited),at(n,e.class_applied),at(n,e.class_loading),at(n,e.class_loaded),at(n,e.class_error)),o(t),a(t)}function O(t,n,e,a){var i;e.cancel_on_exit&&(c(t)!==H||"IMG"===t.tagName&&(y(t),g(i=t,function(t){L(t)}),L(i),w(t),at(t,e.class_loading),f(a,-1),o(t),s(e.callback_cancel,t,n,a)))}function N(t,n,e,a){var i,o,r=0<=et.indexOf(c(t));Z(t,"entered"),u(t,e.class_entered),at(t,e.class_exited),i=t,o=a,e.unobserve_entered&&l(i,o),s(e.callback_enter,t,n,a),r||k(t,e,a)}function C(t,a,i){t.forEach(function(t){var n,e;-1!==At.indexOf(t.tagName)&&(n=a,e=i,(t=t).setAttribute("loading","lazy"),It(t,n,e),ht(t,n),Z(t,Q))}),_(i,0)}function M(t){return t.container.querySelectorAll(t.elements_selector)}function z(t){return c(t)===K}function R(t,n){return n=t||M(n),xt(n).filter(tt)}function t(t,n){var e,a,i,o,t=r(t);this._settings=t,this.loadingCount=0,e=t,a=this,D&&!kt(e)&&(a._observer=new IntersectionObserver(function(t){wt(t,e,a)},Lt(e))),i=t,o=this,T&&window.addEventListener("online",function(){Ot(i,o)}),this.update(n)}var T="undefined"!=typeof window,G=T&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),D=T&&"IntersectionObserver"in window,V=T&&"classList"in document.createElement("p"),F=T&&1<window.devicePixelRatio,j={elements_selector:".lazy",container:G||T?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},P="src",S="srcset",U="sizes",$="poster",q="llOriginalAttrs",H="loading",B="loaded",J="applied",K="error",Q="native",W="data-",X="ll-status",Y=function(t,n){return t.getAttribute(W+n)},Z=function(t,n){return function(t,n,e){n=W+n;null!==e?t.setAttribute(n,e):t.removeAttribute(n)}(t,X,n)},tt=function(t){return null===c(t)},nt=function(t){return c(t)===Q},et=[H,B,J,K],at=function(t,n){V?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},it=function(t){t.llTempImage=document.createElement("IMG")},ot=function(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e},rt=[P],ct=[P,$],lt=[P,S,U],st=function(t){return!!t[q]},ut=function(t){return t[q]},dt=function(t){st(t)||(t[q]={backgroundImage:t.style.backgroundImage})},ft=function(t,n,e){e?t.setAttribute(n,e):t.removeAttribute(n)},_t=function(t){var n;st(t)&&(n=ut(t),t.style.backgroundImage=n.backgroundImage)},gt=function(t,n,e){e&&t.setAttribute(n,e)},vt=function(t,n,e){var a=Y(t,n.data_bg),i=Y(t,n.data_bg_hidpi),a=F&&i?i:a;a&&(t.style.backgroundImage='url("'.concat(a,'")'),d(t).setAttribute(P,a),p(t,n,e))},bt=function(t,n,e){var a=Y(t,n.data_bg_multi),i=Y(t,n.data_bg_multi_hidpi),a=F&&i?i:a;a&&(t.style.backgroundImage=a,e=e,u(t=t,(n=n).class_applied),Z(t,J),e&&(n.unobserve_completed&&l(t,n),s(n.callback_applied,t,e)))},pt={IMG:function(t,n){g(t,function(t){v(t,lt),h(t,n)}),v(t,lt),h(t,n)},IFRAME:function(t,n){v(t,rt),gt(t,P,Y(t,n.data_src))},VIDEO:function(t,n){e(t,function(t){v(t,rt),gt(t,P,Y(t,n.data_src))}),v(t,ct),gt(t,$,Y(t,n.data_poster)),gt(t,P,Y(t,n.data_src)),t.load()}},ht=function(t,n){var e=pt[t.tagName];e&&e(t,n)},mt=function(t,n,e){var a=pt[t.tagName];a&&(a(t,n),p(t,n,e))},Et=["IMG","IFRAME","VIDEO"],It=function(o,r,c){var l=d(o)||o;I(l)||function(t,n,e){I(t)||(t.llEvLisnrs={});var a="VIDEO"===t.tagName?"loadeddata":"load";E(t,a,n),E(t,"error",e)}(l,function(t){var n,e,a,i;e=r,a=c,i=nt(n=o),A(n,e,a),u(n,e.class_loaded),Z(n,B),s(e.callback_loaded,n,a),i||m(e,a),y(l)},function(t){var n,e,a,i;e=r,a=c,i=nt(n=o),A(n,e,a),u(n,e.class_error),Z(n,K),s(e.callback_error,n,a),i||m(e,a),y(l)})},yt={IMG:w,IFRAME:function(t){b(t,rt)},VIDEO:function(t){e(t,function(t){b(t,rt)}),b(t,ct),t.load()}},At=["IMG","IFRAME","VIDEO"],kt=function(t){return t.use_native&&"loading"in HTMLImageElement.prototype},Lt=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},wt=function(t,i,o){t.forEach(function(t){return(a=t).isIntersecting||0<a.intersectionRatio?N(t.target,t,i,o):(n=t.target,e=t,a=i,t=o,void(tt(n)||(u(n,a.class_exited),O(n,e,a,t),s(a.callback_exit,n,e,t))));var n,e,a})},xt=function(t){return Array.prototype.slice.call(t)},Ot=function(n,t){var e;(e=M(n),xt(e).filter(z)).forEach(function(t){at(t,n.class_error),o(t)}),t.update()};return t.prototype={update:function(t){var n,e=this._settings,a=R(t,e);_(this,a.length),!G&&D?kt(e)?C(a,e,this):(t=this._observer,e=a,t.disconnect(),n=t,e.forEach(function(t){n.observe(t)})):this.loadAll(a)},destroy:function(){this._observer&&this._observer.disconnect(),M(this._settings).forEach(function(t){a(t)}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;R(t,e).forEach(function(t){l(t,n),k(t,e,n)})},restoreAll:function(){var n=this._settings;M(n).forEach(function(t){x(t,n)})}},t.load=function(t,n){n=r(n);k(t,n)},t.resetStatus=function(t){o(t)},T&&function(t,n){if(n)if(n.length)for(var e,a=0;e=n[a];a+=1)i(t,e);else i(t,n)}(t,window.lazyLoadOptions),t});