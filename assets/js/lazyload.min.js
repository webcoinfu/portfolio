!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function i(t){return n({},X,t)}function o(t,n){var e,i="LazyLoad::Initialized",o=new t(n);try{e=new CustomEvent(i,{detail:{instance:o}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:o})}window.dispatchEvent(e)}function a(t,n){return t.getAttribute(it+n)}function r(t){return a(t,ot)}function c(t,n){return function(t,n,e){var i=it+n;null!==e?t.setAttribute(i,e):t.removeAttribute(i)}(t,ot,n)}function s(t){return c(t,null)}function l(t){return null===r(t)}function u(t){return r(t)===et}function d(t,n,e,i){t&&(void 0===i?void 0===e?t(n):t(n,e):t(n,e,i))}function f(t,n){Q?t.classList.add(n):t.className+=(t.className?" ":"")+n}function _(t,n){Q?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function g(t){return t.llTempImage}function v(t,n){if(n){var e=n._observer;e&&e.unobserve(t)}}function b(t,n){t&&(t.loadingCount+=n)}function p(t,n){t&&(t.toLoadCount=n)}function h(t){for(var n,e=[],i=0;n=t.children[i];i+=1)"SOURCE"===n.tagName&&e.push(n);return e}function e(t,n,e){e&&t.setAttribute(n,e)}function m(t,n){t.removeAttribute(n)}function E(t){return!!t.llOriginalAttrs}function y(t){if(!E(t)){var n={};n.src=t.getAttribute("src"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n}}function I(t){if(E(t)){var n=t.llOriginalAttrs;e(t,"src",n.src),e(t,"srcset",n.srcset),e(t,"sizes",n.sizes)}}function A(t,n){e(t,"sizes",a(t,n.data_sizes)),e(t,"srcset",a(t,n.data_srcset)),e(t,"src",a(t,n.data_src))}function L(t){m(t,"src"),m(t,"srcset"),m(t,"sizes")}function w(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&h(e).forEach(n)}function k(t,n){var e=at[t.tagName];e&&e(t,n)}function O(t,n){!n||function(t){return 0<t.loadingCount}(n)||function(t){return 0<t.toLoadCount}(n)||d(t.callback_finish,n)}function x(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function z(t){return!!t.llEvLisnrs}function C(t){if(z(t)){var n,e,i=t.llEvLisnrs;for(var o in i){var r=i[o];n=o,e=r,t.removeEventListener(n,e)}delete t.llEvLisnrs}}function N(t,n,e){!function(t){delete t.llTempImage}(t),b(e,-1),function(t){t&&(t.toLoadCount-=1)}(e),_(t,n.class_loading),n.unobserve_completed&&v(t,e)}function M(n,e,i){var o=g(n)||n;if(!z(o)){!function(t,n,e){z(t)||(t.llEvLisnrs={});var i="VIDEO"===t.tagName?"loadeddata":"load";x(t,i,n),x(t,"error",e)}(o,function(t){!function(t,n,e,i){var o=u(n);N(n,e,i),f(n,e.class_loaded),c(n,Z),d(e.callback_loaded,n,i),o||O(e,i)}(0,n,e,i),C(o)},function(t){!function(t,n,e,i){var o=u(n);N(n,e,i),f(n,e.class_error),c(n,nt),d(e.callback_error,n,i),o||O(e,i)}(0,n,e,i),C(o)})}}function R(t,n,e){!function(t){t.llTempImage=document.createElement("IMG")}(t),M(t,n,e),function(t,n,e){var i=a(t,n.data_bg),o=a(t,n.data_bg_hidpi),r=W&&o?o:i;r&&(t.style.backgroundImage='url("'.concat(r,'")'),g(t).setAttribute("src",r),st(t,n,e))}(t,n,e),function(t,n,e){var i=a(t,n.data_bg_multi),o=a(t,n.data_bg_multi_hidpi),r=W&&o?o:i;r&&(t.style.backgroundImage=r,ct(t,n,e))}(t,n,e)}function T(t,n,e){!function(t){return-1<lt.indexOf(t.tagName)}(t)?R(t,n,e):function(t,n,e){M(t,n,e),k(t,n),st(t,n,e)}(t,n,e)}function G(t,n,e,i){!e.cancel_on_exit||function(t){return r(t)===Y}(t)&&"IMG"===t.tagName&&(C(t),function(t){w(t,function(t){L(t)}),L(t)}(t),function(t){w(t,function(t){I(t)}),I(t)}(t),_(t,e.class_loading),b(i,-1),s(t),d(e.callback_cancel,t,n,i))}function D(t,n,e,i){var o=function(t){return 0<=rt.indexOf(r(t))}(t);c(t,"entered"),f(t,e.class_entered),_(t,e.class_exited),function(t,n,e){n.unobserve_entered&&v(t,e)}(t,e,i),d(e.callback_enter,t,n,i),o||T(t,e,i)}function V(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function j(t,n,e){t.forEach(function(t){-1!==ut.indexOf(t.tagName)&&function(t,n,e){t.setAttribute("loading","lazy"),M(t,n,e),k(t,n),c(t,et)}(t,n,e)}),p(e,0)}function F(t,n,e){t.forEach(function(t){return function(t){return t.isIntersecting||0<t.intersectionRatio}(t)?D(t.target,t,n,e):function(t,n,e,i){l(t)||(f(t,e.class_exited),G(t,n,e,i),d(e.callback_exit,t,n,i))}(t.target,t,n,e)})}function P(n,e){K&&!V(n)&&(e._observer=new IntersectionObserver(function(t){F(t,n,e)},function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(n)))}function S(t){return Array.prototype.slice.call(t)}function U(t){return t.container.querySelectorAll(t.elements_selector)}function $(t){return function(t){return r(t)===nt}(t)}function q(t,n){return function(t){return S(t).filter(l)}(t||U(n))}function H(n,t){(function(t){return S(t).filter($)})(U(n)).forEach(function(t){_(t,n.class_error),s(t)}),t.update()}function t(t,n){var e=i(t);this._settings=e,this.loadingCount=0,P(e,this),function(t,n){B&&window.addEventListener("online",function(){H(t,n)})}(e,this),this.update(n)}var B="undefined"!=typeof window,J=B&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),K=B&&"IntersectionObserver"in window,Q=B&&"classList"in document.createElement("p"),W=B&&1<window.devicePixelRatio,X={elements_selector:".lazy",container:J||B?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},Y="loading",Z="loaded",tt="applied",nt="error",et="native",it="data-",ot="ll-status",rt=[Y,Z,tt,nt],at={IMG:function(t,n){w(t,function(t){y(t),A(t,n)}),y(t),A(t,n)},IFRAME:function(t,n){e(t,"src",a(t,n.data_src))},VIDEO:function(t,n){!function(t,n){h(t).forEach(n)}(t,function(t){e(t,"src",a(t,n.data_src))}),e(t,"poster",a(t,n.data_poster)),e(t,"src",a(t,n.data_src)),t.load()}},ct=function(t,n,e){f(t,n.class_applied),c(t,tt),n.unobserve_completed&&v(t,n),d(n.callback_applied,t,e)},st=function(t,n,e){b(e,1),f(t,n.class_loading),c(t,Y),d(n.callback_loading,t,e)},lt=["IMG","IFRAME","VIDEO"],ut=["IMG","IFRAME","VIDEO"];return t.prototype={update:function(t){var n=this._settings,e=q(t,n);p(this,e.length),!J&&K?V(n)?j(e,n,this):function(t,n){!function(t){t.disconnect()}(t),function(n,t){t.forEach(function(t){n.observe(t)})}(t,n)}(this._observer,e):this.loadAll(e)},destroy:function(){this._observer&&this._observer.disconnect(),U(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;q(t,e).forEach(function(t){v(t,n),T(t,e,n)})}},t.load=function(t,n){var e=i(n);T(t,e)},t.resetStatus=function(t){s(t)},B&&function(t,n){if(n)if(n.length)for(var e,i=0;e=n[i];i+=1)o(t,e);else o(t,n)}(t,window.lazyLoadOptions),t});